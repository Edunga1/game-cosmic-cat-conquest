function t(t,e,i,s){Object.defineProperty(t,e,{get:i,set:s,enumerable:!0,configurable:!0})}function e(t){return t&&t.__esModule?t.default:t}var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s={},h={},a=i.parcelRequireaa2a;null==a&&((a=function(t){if(t in s)return s[t].exports;if(t in h){var e=h[t];delete h[t];var i={id:t,exports:{}};return s[t]=i,e.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(t,e){h[t]=e},i.parcelRequireaa2a=a),a.register("27Lyk",(function(e,i){var s,h;t(e.exports,"register",(()=>s),(t=>s=t)),t(e.exports,"resolve",(()=>h),(t=>h=t));var a={};s=function(t){for(var e=Object.keys(t),i=0;i<e.length;i++)a[e[i]]=t[e[i]]},h=function(t){var e=a[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),a("27Lyk").register(JSON.parse('{"67Pf5":"index.163a30f6.js","kp27Z":"cat-sprites-running.47e835c7.png"}'));class n{constructor(t,e){this.x=t,this.y=e,this.x=t,this.y=e}static zero(){return new n(0,0)}add(t){return new n(this.x+t.x,this.y+t.y)}subtract(t){return new n(this.x-t.x,this.y-t.y)}unit(){const t=this.length();return new n(this.x/t,this.y/t)}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}multiply(t){return new n(this.x*t,this.y*t)}}class r{constructor(t){this.context=t,this.position=n.zero(),this.velocity=n.zero(),this.elapsed=0}animate(t){this.update(t),this.render(t)}update(t){this.elapsed+=t,this.position=this.position.add(this.velocity.multiply(t/5))}}class o{constructor(t,e,i,s=60){this.image=t,this.frameWidth=e,this.frameHeight=i,this.framesPerSecond=s,this.frameIndex=0,this.time=0,this.imageLoaded=!1,this.image.onload=()=>{this.imageLoaded=!0,this.framesPerRow=Math.floor(t.width/e)}}update(t){for(this.time+=t;this.time>1e3/this.framesPerSecond;)this.time-=1e3/this.framesPerSecond,this.frameIndex++,this.frameIndex>=this.framesPerRow*Math.floor(this.image.height/this.frameHeight)&&(this.frameIndex=0)}draw(t,e,i){if(!this.imageLoaded)return;const s=Math.floor(this.frameIndex/this.framesPerRow),h=this.frameIndex%this.framesPerRow;t.drawImage(this.image,h*this.frameWidth,s*this.frameHeight,this.frameWidth,this.frameHeight,e,i,this.frameWidth,this.frameHeight)}}var d;d=new URL(a("27Lyk").resolve("kp27Z"),import.meta.url).toString();class c extends r{constructor(t){super(t);const i=new Image;i.src=e(d),this.sprite=new o(i,22,16,10)}render(t){this.sprite.update(t),this.sprite.draw(this.context,0,0)}}class l extends r{constructor(t){super(t)}render(){this.context.save(),this.context.rotate(this.elapsed/1e3),this.context.beginPath(),this.context.moveTo(0,-5),this.context.lineTo(5,5),this.context.lineTo(0,3),this.context.lineTo(-5,5),this.context.lineTo(0,-5),this.context.fillStyle="red",this.context.fill(),this.context.restore()}}class u{constructor(t){this.context=t,this.starElapsed=0,this.backgroundColor="rgb(10, 10, 10)",this.starColorRange=100,this.stars=[],this.maxStars=400}animate(t){this.render(t)}render(t){this.renderBackground(),this.renderStars(),this.checkStarElapsed(t)&&this.updateStars()}renderBackground(){this.context.fillStyle=this.backgroundColor,this.context.fillRect(0,0,this.width,this.height)}renderStars(){this.context.fillStyle="white",this.stars.forEach((t=>{this.context.fillRect(t.x,t.y,1,1)}))}updateStars(){this.stars=[];for(let t=0;t<this.maxStars;t++)this.stars.push(new n(Math.random()*this.width,Math.random()*this.height))}checkStarElapsed(t){return this.starElapsed+=t,this.starElapsed>200&&(this.starElapsed=0,!0)}}class m{constructor(t){this.context=t,this.width=0,this.height=0,this.lastTime=0,this.delta=0,this.enemies=[],this.space=new u(t),this.player=new c(t);for(let e=0;e<10;e++){const e=new l(t);e.position.x=1e3*Math.random()-500,e.position.y=1e3*Math.random()-500,this.enemies.push(e)}}resize(t,e){this.width=t,this.height=e,this.space.width=t,this.space.height=e}animate(t){this.updateDelta(t),this.space.animate(this.delta),this.updatePlayer(),this.updateEnemies(),this.context.restore()}movePlayer(t,e){const i=new n(t,e),s=new n(this.width/2,this.height/2).subtract(i).unit();this.player.velocity=s}stopPlayer(){this.player.velocity=n.zero()}updatePlayer(){this.context.save(),this.context.translate(this.width/2,this.height/2),this.player.animate(this.delta),this.context.restore()}updateEnemies(){this.enemies.forEach((t=>{this.context.save(),this.context.translate(this.width/2+this.player.position.x+t.position.x,this.height/2+this.player.position.y+t.position.y),t.animate(this.delta),this.context.restore()}))}updateDelta(t){this.delta=t-this.lastTime,this.lastTime=t}}(new class{constructor(){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.game=new m(this.context)}start(){document.body.appendChild(this.canvas),window.addEventListener("resize",this.resize.bind(this)),this.registerCanvasEvents(),this.resize(),this.animate()}animate(t=0){this.game.animate(t),requestAnimationFrame(this.animate.bind(this))}resize(){this.width=document.body.clientWidth,this.height=document.body.clientHeight,this.canvas.width=this.width,this.canvas.height=this.height,this.game.resize(this.width,this.height)}registerCanvasEvents(){this.canvas.addEventListener("mousedown",this.onMouseDown.bind(this)),this.canvas.addEventListener("mousemove",this.onMouseMove.bind(this)),this.canvas.addEventListener("mouseup",this.onTouchEnd.bind(this)),this.canvas.addEventListener("touchstart",this.onTouchStart.bind(this)),this.canvas.addEventListener("touchend",this.onTouchEnd.bind(this))}onMouseDown(t){this.game.movePlayer(t.clientX,t.clientY)}onMouseMove(t){0!==t.buttons&&this.game.movePlayer(t.clientX,t.clientY)}onTouchStart(t){this.game.movePlayer(t.touches[0].clientX,t.touches[0].clientY)}onTouchEnd(){this.game.stopPlayer()}}).start();
//# sourceMappingURL=index.163a30f6.js.map
